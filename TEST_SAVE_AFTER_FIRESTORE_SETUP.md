# ğŸ§ª Firestore åˆ›å»ºåæµ‹è¯•æŒ‡å—

## âœ… å·²å®Œæˆ
- Firestore Database å·²åˆ›å»º
- æ¨¡å¼ï¼šæµ‹è¯•æ¨¡å¼ï¼ˆ30å¤©æœ‰æ•ˆæœŸï¼‰
- ä½ç½®ï¼šé›…åŠ è¾¾ï¼ˆasia-southeast2ï¼‰

---

## ğŸ“± æµ‹è¯•æ­¥éª¤

### æ­¥éª¤ 1: æ‰“å¼€åº”ç”¨å¹¶æŸ¥çœ‹ Create Card

**åœ¨ Pixel 7 è®¾å¤‡ä¸Š**ï¼š
1. æ‰“å¼€åº”ç”¨ï¼ˆQuran Majeedï¼‰
2. å‘ä¸‹æ»šåŠ¨åˆ° "Daily Quests" éƒ¨åˆ†
3. **ç¡®è®¤**ï¼šçœ‹åˆ°ç»¿è‰²çš„ Create Card

**é¢„æœŸç»“æœ**ï¼š
- âœ… çœ‹åˆ° "Daily Quests" é»‘è‰²æ ‡é¢˜
- âœ… çœ‹åˆ°ç»¿è‰²å¡ç‰‡
- âœ… çœ‹åˆ°æŒ‰é’® "Create My Learning Plan Now"

---

### æ­¥éª¤ 2: é…ç½®å­¦ä¹ è®¡åˆ’

1. **ç‚¹å‡»** "Create My Learning Plan Now" æŒ‰é’®
2. **è¿›å…¥é…ç½®é¡µé¢å**ï¼š
   - Daily Reading Goal: æ‹–åŠ¨ Slider åˆ° **10 pages**
   - Enable Tajweed Practice: **æ‰“å¼€** Switch
   - Practice Duration: é€‰æ‹© **15 minutes**
   - Enable Tasbih Reminder: **æ‰“å¼€**ï¼ˆå¯é€‰ï¼‰

3. **ç¡®è®¤é…ç½®**ï¼š
   - æŒ‘æˆ˜å¤©æ•°æ˜¾ç¤ºï¼šçº¦ **33 Days Challenge**

---

### æ­¥éª¤ 3: ä¿å­˜å¹¶ç™»å½•

1. **ç‚¹å‡»** "âœ“ Save and Start My Challenge" æŒ‰é’®

2. **å¦‚æœå¼¹å‡ºç™»å½•å¯¹è¯æ¡†**ï¼š
   - ç‚¹å‡» "Login with Google"
   - é€‰æ‹© Google è´¦æˆ·ï¼ˆadochub@gmail.comï¼‰
   - å®Œæˆæˆæƒ

3. **è§‚å¯ŸæŒ‰é’®çŠ¶æ€**ï¼š
   - åº”æ˜¾ç¤º "Saving..."

---

### æ­¥éª¤ 4: éªŒè¯ä¿å­˜ç»“æœ

#### âœ… æˆåŠŸçš„è¿¹è±¡ï¼š

**1-3ç§’å†…**ï¼š
- âœ… Toast æç¤ºï¼š"Learning plan saved successfully! âœ…"
- âœ… è‡ªåŠ¨è¿”å›ä¸»é¡µ
- âœ… ä¸»é¡µæ˜¾ç¤ºä¸¤ä¸ªæ–°å¡ç‰‡ï¼š

   **Streak Card**ï¼ˆç»¿è‰²ï¼‰ï¼š
   ```
   Streak
   0 Days
   
   Monthly Goal    0 / 31
   â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘ (0%)
   ```

   **Today's Quests**ï¼š
   ```
   Today's Quests
   
   ğŸ“– Quran Reading
      Read 10 pages          [Go]
   
   ğŸ§ Tajweed Practice
      Practice 15 minutes    [Go]
   
   ğŸ¤² Dhikr (å¦‚æœå¯ç”¨)
      Complete 50 Dhikr      [Go]
   ```

#### âŒ å¦‚æœå¤±è´¥ï¼š

**15ç§’å**ï¼š
- âŒ Toast æç¤ºï¼š"Error: ä¿å­˜è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥"
- âŒ æŒ‰é’®æ¢å¤ä¸ºï¼š"âœ“ Save and Start My Challenge"
- âŒ ç•™åœ¨é…ç½®é¡µé¢

**å¦‚æœå¤±è´¥ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼**

---

## ğŸ” æ—¥å¿—ç›‘æ§ï¼ˆå¯é€‰ï¼‰

å¦‚æœæƒ³æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼Œåœ¨ç”µè„‘ä¸Šè¿è¡Œï¼š

```bash
# å®æ—¶ç›‘æ§ä¿å­˜è¿‡ç¨‹
adb logcat | grep -E "(LearningPlan|QuestRepository|Firestore)"
```

**æˆåŠŸçš„æ—¥å¿—**åº”è¯¥åŒ…å«ï¼š
```
D LearningPlanSetupVM: å¼€å§‹ä¿å­˜é…ç½®: UserQuestConfig(...)
D QuestRepository: Quest config saved successfully
D QuestRepository: Streak stats initialized
D LearningPlanSetupVM: å‡†å¤‡å‘é€ Success çŠ¶æ€
D LearningPlanSetupVM: Success çŠ¶æ€å·²å‘é€
D LearningPlanSetupFrag: æ”¶åˆ° Success çŠ¶æ€ï¼Œå‡†å¤‡æ˜¾ç¤º Toast å¹¶è¿”å›
D LearningPlanSetupFrag: å·²æˆåŠŸè¿”å›ä¸»é¡µ
```

**ä¸åº”è¯¥å†å‡ºç°**ï¼š
```
W Firestore: The database (default) does not exist  â† è¿™ä¸ªé”™è¯¯åº”è¯¥æ¶ˆå¤±äº†
```

---

## ğŸ¯ å…³é”®æµ‹è¯•ç‚¹

| æµ‹è¯•ç‚¹ | é¢„æœŸæ—¶é—´ | çŠ¶æ€ |
|--------|---------|------|
| æ˜¾ç¤º Create Card | ç«‹å³ | â³ å¾…æµ‹ |
| è·³è½¬é…ç½®é¡µé¢ | ç«‹å³ | â³ å¾…æµ‹ |
| å¼¹å‡ºç™»å½•å¯¹è¯æ¡†ï¼ˆæœªç™»å½•æ—¶ï¼‰ | ç«‹å³ | â³ å¾…æµ‹ |
| Google ç™»å½•å®Œæˆ | 5-10ç§’ | â³ å¾…æµ‹ |
| ä¿å­˜é…ç½®åˆ° Firestore | **1-3ç§’** | â³ å…³é”® |
| è¿”å›ä¸»é¡µ | 0.5ç§’ | â³ å¾…æµ‹ |
| æ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨ | ç«‹å³ | â³ å¾…æµ‹ |

---

## ğŸ”§ å¦‚æœä»ç„¶å¤±è´¥

### æƒ…å†µ A: ä»ç„¶è¶…æ—¶

**å¯èƒ½åŸå› **ï¼š
1. è®¾å¤‡ç½‘ç»œä¸ç¨³å®š
2. Firestore è§„åˆ™é…ç½®é—®é¢˜
3. Firebase åˆå§‹åŒ–é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# 1. æ£€æŸ¥ç½‘ç»œ
adb shell ping -c 3 8.8.8.8

# 2. æ£€æŸ¥ Firestore é”™è¯¯
adb logcat | grep Firestore
```

### æƒ…å†µ B: ä¿å­˜æˆåŠŸä½†ä¸è¿”å›ä¸»é¡µ

**å¯èƒ½åŸå› **ï¼šå¯¼èˆªé€»è¾‘é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼šæŸ¥çœ‹æ—¥å¿—
```bash
adb logcat | grep "LearningPlanSetupFrag"
```

åº”è¯¥çœ‹åˆ°ï¼š
```
D LearningPlanSetupFrag: æ”¶åˆ° Success çŠ¶æ€ï¼Œå‡†å¤‡æ˜¾ç¤º Toast å¹¶è¿”å›
D LearningPlanSetupFrag: å·²æˆåŠŸè¿”å›ä¸»é¡µ
```

### æƒ…å†µ C: å…¶ä»–é”™è¯¯

**è¯·æä¾›**ï¼š
1. é”™è¯¯æç¤ºçš„å®Œæ•´æ–‡å­—
2. æ—¥å¿—è¾“å‡º
3. å½“å‰åœ¨å“ªä¸ªé¡µé¢

---

## âœ… æµ‹è¯•å®Œæˆå

### å¦‚æœæˆåŠŸ âœ…

**ä¸‹ä¸€æ­¥æµ‹è¯• Go æŒ‰é’®**ï¼š

1. **ç‚¹å‡» Task 1 "Go" æŒ‰é’®**
   - åº”è¯¥æ‰“å¼€å¤å…°ç»é˜…è¯»å™¨

2. **ç‚¹å‡» Task 2 "Go" æŒ‰é’®**
   - åº”è¯¥æ‰“å¼€ Tajweed Timer é¡µé¢

3. **ç‚¹å‡» Task 3 "Go" æŒ‰é’®**ï¼ˆå¦‚æœæœ‰ï¼‰
   - åº”è¯¥è·³è½¬åˆ° Tasbih é¡µé¢

### å¦‚æœå¤±è´¥ âŒ

**è¯·å‘Šè¯‰æˆ‘**ï¼š
1. åœ¨å“ªä¸€æ­¥å¤±è´¥çš„
2. çœ‹åˆ°ä»€ä¹ˆé”™è¯¯æç¤º
3. æ˜¯å¦è¶…æ—¶ï¼ˆ15ç§’ï¼‰è¿˜æ˜¯ç«‹å³æŠ¥é”™

---

## ğŸ“Š éªŒè¯æ•°æ®ä¿å­˜ï¼ˆå¯é€‰ï¼‰

### åœ¨ Firebase Console éªŒè¯

1. **è®¿é—®** Firebase Console
   ```
   https://console.firebase.google.com/
   ```

2. **é€‰æ‹©é¡¹ç›®** `quran-majeed-aa3d2`

3. **ç‚¹å‡»** "Firestore Database"

4. **ç‚¹å‡»** "æ•°æ®" æ ‡ç­¾

5. **åº”è¯¥çœ‹åˆ°**ï¼š
   ```
   users/
     â””â”€â”€ {æ‚¨çš„userId}/
         â”œâ”€â”€ learningPlan/
         â”‚   â””â”€â”€ config/
         â”‚       â”œâ”€â”€ dailyReadingPages: 10
         â”‚       â”œâ”€â”€ recitationEnabled: true
         â”‚       â”œâ”€â”€ recitationMinutes: 15
         â”‚       â””â”€â”€ ...
         â””â”€â”€ streakStats/
             â””â”€â”€ summary/
                 â”œâ”€â”€ currentStreak: 0
                 â”œâ”€â”€ longestStreak: 0
                 â””â”€â”€ ...
   ```

---

## ğŸ‰ é¢„æœŸçš„å®Œæ•´æµç¨‹

```
1. æ‰“å¼€åº”ç”¨
   â†“
2. çœ‹åˆ° Create Card âœ…
   â†“
3. ç‚¹å‡»æŒ‰é’® â†’ è¿›å…¥é…ç½®é¡µé¢ âœ…
   â†“
4. é…ç½®å­¦ä¹ è®¡åˆ’ï¼ˆ10é¡µï¼Œ15åˆ†é’Ÿï¼‰âœ…
   â†“
5. ç‚¹å‡» Save â†’ å¼¹å‡ºç™»å½•ï¼ˆæœªç™»å½•æ—¶ï¼‰âœ…
   â†“
6. Google ç™»å½•æˆåŠŸ âœ…
   â†“
7. æŒ‰é’®æ˜¾ç¤º "Saving..." (1-3ç§’) âœ…
   â†“
8. Toast: "Learning plan saved successfully! âœ…" âœ…
   â†“
9. è‡ªåŠ¨è¿”å›ä¸»é¡µ âœ…
   â†“
10. æ˜¾ç¤º Streak Card (0 Days) âœ…
    + Today's Quests (2-3ä¸ªä»»åŠ¡) âœ…
```

---

## ğŸ“ åé¦ˆæ¨¡æ¿

è¯·æŒ‰ä»¥ä¸‹æ ¼å¼å‘Šè¯‰æˆ‘æµ‹è¯•ç»“æœï¼š

```
æ­¥éª¤ 1 (Create Card æ˜¾ç¤º): âœ… æˆåŠŸ / âŒ å¤±è´¥
æ­¥éª¤ 2 (é…ç½®é¡µé¢): âœ… æˆåŠŸ / âŒ å¤±è´¥
æ­¥éª¤ 3 (ç™»å½•): âœ… æˆåŠŸ / âŒ å¤±è´¥
æ­¥éª¤ 4 (ä¿å­˜): 
  - è€—æ—¶: ___ ç§’
  - ç»“æœ: âœ… æˆåŠŸ / âŒ å¤±è´¥
  - é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ï¼‰: ___
  
ä¸»é¡µæ˜¾ç¤º: 
  - Streak Card: âœ… æ˜¾ç¤º / âŒ æœªæ˜¾ç¤º
  - Today's Quests: âœ… æ˜¾ç¤º / âŒ æœªæ˜¾ç¤º
```

---

**ç°åœ¨è¯·åœ¨è®¾å¤‡ä¸Šæµ‹è¯•ä¿å­˜åŠŸèƒ½ï¼Œå¹¶å‘Šè¯‰æˆ‘ç»“æœï¼** ğŸš€

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œè¿™å°†æ˜¯æ¯æ—¥ä»»åŠ¡åŠŸèƒ½çš„é‡å¤§çªç ´ï¼

